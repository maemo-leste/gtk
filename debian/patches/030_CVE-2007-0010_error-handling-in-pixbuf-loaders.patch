diff -urN gtk+-2.8.20.orig/gdk-pixbuf/gdk-pixbuf-loader.c gtk+-2.8.20/gdk-pixbuf/gdk-pixbuf-loader.c
--- gtk+-2.8.20.orig/gdk-pixbuf/gdk-pixbuf-loader.c	2006-03-22 21:35:26.000000000 +0100
+++ gtk+-2.8.20/gdk-pixbuf/gdk-pixbuf-loader.c	2007-01-25 12:15:17.000000000 +0100
@@ -491,7 +491,7 @@
       
                         eaten = gdk_pixbuf_loader_eat_header_write (loader, buf, count, error);
                         if (eaten <= 0)
-                                return FALSE;
+                                goto fail;
       
                         count -= eaten;
                         buf += eaten;
@@ -499,27 +499,32 @@
   
         if (count > 0 && priv->image_module->load_increment)
                 {
-                        gboolean retval;
-                        retval = priv->image_module->load_increment (priv->context, buf, count,
-                                                                     error);
-                        if (!retval && error && *error == NULL)
-                                {
-                                        /* Fix up busted image loader */
-                                        g_warning ("Bug! loader '%s' didn't set an error on failure",
-                                                   priv->image_module->module_name);
-                                        g_set_error (error,
-                                                     GDK_PIXBUF_ERROR,
-                                                     GDK_PIXBUF_ERROR_FAILED,
-                                                     _("Internal error: Image loader module '%s'"
-                                                       " failed to begin loading an image, but didn't"
-                                                       " give a reason for the failure"),
-                                                     priv->image_module->module_name);
-                                }
-
-                        return retval;
+                        if (!priv->image_module->load_increment (priv->context, buf, count,
+                                                                 error))
+                                goto fail;
+                        
                 }
       
         return TRUE;
+
+ fail:
+        if (error && *error == NULL)
+                {
+                        /* Fix up busted image loader */
+                        g_warning ("Bug! loader '%s' didn't set an error on failure",
+                                   priv->image_module->module_name);
+                        g_set_error (error,
+                                     GDK_PIXBUF_ERROR,
+                                     GDK_PIXBUF_ERROR_FAILED,
+                                     _("Internal error: Image loader module '%s'"
+                                       " failed to begin loading an image, but didn't"
+                                       " give a reason for the failure"),
+                                     priv->image_module->module_name);
+                }
+
+        gdk_pixbuf_loader_close (loader, NULL);
+        
+        return FALSE;
 }
 
 /**
@@ -737,8 +742,8 @@
   
         priv = loader->priv;
   
-        /* we expect it's not closed */
-        g_return_val_if_fail (priv->closed == FALSE, TRUE);
+        if (priv->closed)
+                return TRUE;
   
         /* We have less the LOADER_HEADER_SIZE bytes in the image.  
          * Flush it, and keep going. 
