Index: gtk+-2.12.2/configure.in
===================================================================
--- gtk+-2.12.2.orig/configure.in	2007-11-27 22:53:31.661288266 +0100
+++ gtk+-2.12.2/configure.in	2007-11-27 23:04:39.479345048 +0100
@@ -1085,7 +1085,8 @@ if test "x$gdktarget" = "xx11"; then
   #
   if $PKG_CONFIG --exists x11 xext xrender; then
     have_base_x_pc=true
-    X_PACKAGES="$X_PACKAGES x11 xext xrender"
+    X_BASE_PACKAGES=x11
+    X_PACKAGES="$X_PACKAGES xext xrender"
     x_libs="`$PKG_CONFIG --libs x11 xext xrender`"
     X_CFLAGS="`$PKG_CONFIG --cflags x11 xext xrender`"
     
@@ -1459,21 +1460,25 @@ LDFLAGS="$saved_ldflags"
 
 GDK_PACKAGES="$PANGO_PACKAGES"
 if test "x$gdktarget" = "xx11"; then
-  GDK_PACKAGES="$GDK_PACKAGES $X_PACKAGES"
+  GDK_PACKAGES="$GDK_PACKAGES $X_BASE_PACKAGES"
+  GDK_PRIVATE_PACKAGES="$X_PACKAGES"
 fi
-GDK_DEP_LIBS="$GDK_EXTRA_LIBS `$PKG_CONFIG --libs $GDK_PIXBUF_PACKAGES $GDK_PACKAGES` $GDK_PIXBUF_EXTRA_LIBS"
-GDK_DEP_CFLAGS="`$PKG_CONFIG --cflags  gthread-2.0 $GDK_PIXBUF_PACKAGES $GDK_PACKAGES` $GDK_PIXBUF_EXTRA_CFLAGS $GDK_EXTRA_CFLAGS"
+GDK_DEP_LIBS="$GDK_EXTRA_LIBS `$PKG_CONFIG --libs $GDK_PIXBUF_PACKAGES $GDK_PACKAGES $GDK_PRIVATE_PACKAGES` $GDK_PIXBUF_EXTRA_LIBS"
+GDK_DEP_CFLAGS="`$PKG_CONFIG --cflags  gthread-2.0 $GDK_PIXBUF_PACKAGES $GDK_PACKAGES $GDK_PRIVATE_PACKAGES` $GDK_PIXBUF_EXTRA_CFLAGS $GDK_EXTRA_CFLAGS"
 
 #
 # If we aren't writing explicit dependencies, then don't put the extra libraries we need
 # into the pkg-config files
 #
 if test $enable_explicit_deps != yes ; then
-  GDK_PACKAGES="$PANGO_PACKAGES"
   GDK_EXTRA_LIBS=
+else
+  GDK_PACKAGES="$GDK_PACKAGES $GDK_PRIVATE_PACKAGES"
+  GDK_PRIVATE_PACKAGES=
 fi
 
 AC_SUBST(GDK_PACKAGES)
+AC_SUBST(GDK_PRIVATE_PACKAGES)
 AC_SUBST(GDK_EXTRA_LIBS)
 AC_SUBST(GDK_EXTRA_CFLAGS)
 AC_SUBST(GDK_DEP_LIBS)
Index: gtk+-2.12.2/gdk-2.0.pc.in
===================================================================
--- gtk+-2.12.2.orig/gdk-2.0.pc.in	2007-11-26 20:40:52.000000000 +0100
+++ gtk+-2.12.2/gdk-2.0.pc.in	2007-11-27 22:53:32.877357566 +0100
@@ -8,5 +8,6 @@ Name: GDK
 Description: GIMP Drawing Kit (${target} target)
 Version: @VERSION@
 Requires: gdk-pixbuf-2.0 @GDK_PACKAGES@
+Requires.private: @GDK_PRIVATE_PACKAGES@
 Libs: -L${libdir} -lgdk-${target}-@GTK_API_VERSION@ @GDK_EXTRA_LIBS@
 Cflags: -I${includedir}/gtk-2.0 -I${libdir}/gtk-2.0/include @GDK_EXTRA_CFLAGS@
